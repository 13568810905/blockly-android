<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Blockly Demo: Headless</title>
    <script src="blockly_compressed.js"></script>
    <script src="blocks_compressed.js"></script>
    <script src="javascript_compressed.js"></script>
    <script src="msg/js/en.js"></script>
</head>
<body>

<script>
    function generate(blocklyxml) {
      // Parse the XML into a tree.
      var xmlText = blocklyxml;
      try {
        var xml = Blockly.Xml.textToDom(xmlText)
      } catch (e) {
        alert(e);
        return;
      }
      // Create a headless workspace.
      var workspace = new Blockly.Workspace();
      Blockly.Xml.domToWorkspace(workspace, xml);
      var code = Blockly.JavaScript.workspaceToCode(workspace);
      BlocklyController.execute(code);
    }
  </script>
</body>
</html>